# Compiler and Linker
CC = mpiicc 
FC = mpiifort 
#FC = gfortran
LD = $(FC)

#############################################!!
## OPTIONS FOR OPTIMIZATION
#FCFLAGS = -O3 -ffast-math -march=native -funroll-loops
## OPTIONS FOR OPTIMIZATION AND OPENMP
FCFLAGS = -r8 -i4 -fp-model precise -no-prec-div -no-prec-sqrt -fast-transcendentals -ip -implicitnone -O3 -xHost -g -mkl #-check all -traceback #-debug -check all #-fpe:0 # -O3 
#FCFLAGS = -fopenmp -O3 -march=native -funroll-loops 
CCFLAGS = -O3 -DLINUX -DUNDER_ -DMPI2 -Iinclude -xHost -g #-traceback -check all

## OPTIONS FOR DEBUGGING
# FCFLAGS = -fpe:0 -mkl -g -check all -traceback

# Optimization specs for compiler
#OPT  = -r8 -i4 -O3 -fp-model precise -no-prec-div -no-prec-sqrt -fast-transcendentals -xHost -ip -implicitnone -traceback -g # -debug -check all
#COPT = -O3 -DLINUX -DUNDER_ -DMPI2 -Iinclude -xHost -traceback -g
# Definition of LAPACK include and library (if not provided by FoSSI)
#LIB_LAP = -mkl
#############################################!!




## PATH TO GOTM TURBULENCE
GOTMDIR      = $(PWD)/turbulence
GOTMLIB       =  -L$(GOTMDIR)/lib -lturbulence
GOTMINCS      = -I$(GOTMDIR)




#############################################!!
## PATH TO NETCDF
#NETCDFINC = -I/usr/include
#NETCDFLIB = -L/usr/lib64 -lnetcdf -lnetcdff
#############################################!!



# METIS_DIR = ../lib/metis-4.0
# LIB_METIS = -L$(METIS_DIR) -lmetis
# METIS_INC = 
# METIS_DEFS = # -DPART_WEIGHTED

METIS_DIR = ../../lib/metis-5.1.0
LIB_METIS = -L$(METIS_DIR)/lib -lmetis
METIS_INC = -I$(METIS_DIR)/include
METIS_DEFS = -DMETIS_VERSION=5 -DPART_WEIGHTED -DMETISRANDOMSEED=35243

# Definition of pARMS include and library
PARMS_DIR = ../../lib/parms
PARMS_INC = -I$(PARMS_DIR)/include -I$(PARMS_DIR)/src/include
PARMS_DEFS = -DPARMS -DUSE_MPI -DREAL=double -DDBL -DHAS_BLAS -DVOID_POINTER_SIZE_8 
LIB_PARMS = -L$(PARMS_DIR)/lib -lparms

# Preprocessor
CPP = /usr/bin/cpp -P -C

# Define solver library
# Options:
#   -DPARMS  - Define that pARMS solver is used
#   -DPETSC  - Define that PETSC is used

CPP_SOL = -DPARMS

######################################################
# Preprocessor definition

CPP_DEFS= 

# NAME OF THE EXECUTABLE
EXE = FESOMc.exe


######################################################
# Include path for MPI header file
MPIROOT            = 
MPI_LIB            = 
MPI_INCLUDE        = 
